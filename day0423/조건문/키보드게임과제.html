<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #stage{
            width: 1000px;
            height: 576px;
            background-image: url(../images/play/bg.jpg);
            position: relative;
            background-position: 0px 0px;
        }
    </style>
    <script>
        //js로 css의 배경을 제어해보자
        let stage;
        let bgX=0;
        let img=0;
        function bgEffect(){
            //현재 stage div에 적용된 배경 이미지의 포지션 left값을 감소
            document.getElementById("stage")

            bgX-=5;
            stage.style.backgroundPosition=bgX+"px 0px"
        }

        //지금까지는 이미지를 body 태그에 직접 작성해서 존재시켰으나. 
        //이제는 자바스크립트에서 동적(runtime 가동되는동안)으로 이미지를 생성해서 화면에 부착해보자

        function init(){
            img=document.createElement("img"); //<img>태그 작성과 동일
            img.src="../images/play/plane.png";
            stage=document.getElementById("stage");
            stage.appendChild(img);
            img.style.position="absolute";
            img.style.width="45px";
            img.style.top="200px";
            img.style.left="300px";

            //사람 대신 컴퓨터가 (js) 우리가 정의해놓은 함수를 호출하는 기능을 이용하면 자동배경효과를 구현
            setInterval(bgEffect,100);
        }

        let up=200;
        let side=300;
        function move(){
            let key=event.keyCode;
            
            console.log(key)
            // if(key==37){
            //     side-=20
            //     console.log(img.style.left);
            //     img.style.left=side+"px"
            // }else if(key==38){
            //     up-=3
            //     img.style.top=up+"px"
            //     console.log("당신이 누른 키는 우측키입니다");
            // }else if(key==39){
            //     side+=30           
            //     img.style.left=side+"px"
            //     console.log("당신이 누른 키는 위측키입니다");
            // }else if(key==40){
            //     up+=3           
            //     console.log("당신이 누른 키는 아래측키입니다");
            //     img.style.top=up+"px"
            // }   

            switch(key){
                case 37:moveRight();break;
                case 38:moveLeft();break;
                case 39:moveUp();break;
                case 40:moveDown();break;
            }
        }
        function moveRight(){
            side-=20
            img.style.left=side+"px"
        }
        function moveLeft(){
            up-=3
            img.style.top=up+"px"
        }
        function moveUp(){
            side+=30           
            img.style.left=side+"px"
        }
        function moveDown(){
            up+=3
            img.style.top=up+"px"
        }


    </script>

</head>
<body onLoad="init()" onkeydown="move()">
    <div id="stage">

    </div>
</body>
</html>